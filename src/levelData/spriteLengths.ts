// pulled from solar magic advance
// https://github.com/LuigiBlood/smagicadv/blob/fce4f269a5799d6f78b0f8cf87798e074d006b0c/Solar%20Magic%20Advance/Solar%20Magic%20Advance/Program.cs#L343
// but have made some spot changes as some values prooved to be incorrect
// after looking at levels in hex-tree
export const spriteLengths: number[] = [
	4,
	6,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	5,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	6,
	6,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	5,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	5,
	5,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	5,
	6,
	4,
	5,
	5,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	5,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	6,
	4,
	4,
	4,
	5,
	6,
	6,
	4,
	4,
	4,
	5,
	5,
	4,
	4,
	5,
	5,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	6,
	5,
	5,
	6,
	6,
	5,
	5,
	4,
	4,
	5,
	5,
	5,
	5,
	6,
	6,
	4,
	4,
	6,
	6,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	4,
	4,
	4,
	5,
	6,
	6,
	4,
	6,
	4,
	4,
	4,
	6,
	6,
	4,
	6,
	6,
	5,
	6,
	4,
	4,
	5,
	4,
	4,
	5,
	6,
	4,
	4,
	5,
	4,
	4,
	5,
	5,
	5,
	6,
	5,
	5,
	5,
	5,
	5,
	5,
	4,
	4,
	4,
	4,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	4,
	4,
	4,
	5,
	4,
	4,
	4,
	4,
	4,
	4,
	4,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	5,
	6,
	5,
	5,
	5,
];

export function getSpriteLength(id: number, bank: number) {
	const fullId = id ^ (bank << 8);

	if (fullId < spriteLengths.length) {
		return spriteLengths[fullId];
	} else if (fullId === 0x1ab) {
		return 5;
	} else {
		return 4;
	}
}
